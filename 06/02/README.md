# 반복문 : 같은 일 반복하기
> ex1) 식당에서 대기 손님이 생겨서 번호표를 한장 출력
```
  print("대기번호 : 1")
```

<br>

> ex2) 손님 3팀 더 방문
```
  print("대기번호 : 2")
  print("대기번호 : 3")
  print("대기번호 : 4")
```

<br>

- 위 예제에서 수십 팀이 방문했다고 가정
  - 하나씩 print() 출력은 비효율적
  - 반복문 사용시 print() 한번으로 반복 출력 가능

<br>

### for 문 : 범위 안에서 반복하기
- 반복문을 나타내는 키워드인 for와 in 연산자 사이에 변수를 넣고 in 뒤에 반복 대상 지정

  - 반복 대상 : 리스트, 딕셔너리, 튜플, 문자열 등 데이터를 직접 넣어도 되고, 데이터를 담은 변수명을 넣어도 됨

- for 문 끝에 콜론(:) 붙이고 다음 줄에 반복 실행할 명령문 작성

  - for 문에 속한 문장임을 알 수 있게 들여쓰기(4칸)으로 구분

<br>

> for 문 형식
```
  for 변수 in 반복 대상:
    실행할 명령1
    실행할 명령2
    ...
```

<br>

|번복문의 작동 원리|
|-|
|![image](./img/3.png)|
|1. 반복 대상을 순회하면서 값을 하나씩 변수로 가져와 for 문 안에서 사용<br>2. 가져온 값으로 for 문에 속한 명령 실행<br>3. 실행이 끝나면 반복 대상으로 돌아감<br>4. 반복 대상에서 다음 값을 변수로 가져옴<br>5. for 문에 속한 명령 재수행<br>6. 1 ~ 5 과정을 반복 대상에서 가져올 값이 없을 때까지 반복<br>7. 더이상 가져올 값이 없으면 반복문 탈출|

<br>

> ex3) 대기번호 출력 (총 5팀 대기중)
```
  for waiting_no in [1, 2, 3, 4, 5]:   # 반복 대상 : 리스트
    print("대기번호 : {0}".format(waiting_no))  # {0} 위치에 waiting_no 값이 들어감
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  대기번호 : 1
  대기번호 : 2
  대기번호 : 3
  대기번호 : 4
  대기번호 : 5
```
- 대기 손님이 5팀일 경우 반복문을 사용하지 않으면 코드를 5줄 작성해야 함
  - 반복문 사용시 단 2줄만 작성하면 됨
  - 실행결과 동일

</details>

<br>

> ex4)
```
  카페에서 손님들이 차례대로 주문하고, 직원은 주문받은 순서대로 음료를 준비
  음료 제조가 끝나면 손님을 닉네임으로 호출
  손님의 닉네임은 주문받은 순서대로 리스트에 저장
```
```
  orders = ["아이언맨", "토르", "스파이더맨"] # 손님 닉네임 리스트
  for customer in orders:
    print("{0} 님, 커피가 준비됐습니다. 픽업대로 와 주세요.".format(customer))
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  아이언맨 님, 커피가 준비됐습니다. 픽업대로 와 주세요.
  토르 님, 커피가 준비됐습니다. 픽업대로 와 주세요.
  스파이더맨 님, 커피가 준비됐습니다. 픽업대로 와 주세요.
```
- 닉네임만 다르고 같은 형태로 안내

</details>

<br>

#### 📌 range() 함수
- 지정한 범위 안에서 연속한 정수를 반환하는 함수

<br>

> range() 함수 형식
```
  range(숫자)
  range(시작 숫자, 끝 숫자)
  range(시작 숫자, 끝 숫자, 간격)
```

<br>

> range(숫자) : 0부터 지정한 숫자 직전(숫자 - 1)까지 연속한 정수를 반환
```
  for waiting_no in range(5):   ← 0부터 5 직전까지(0~4)
    print("대기번호 : {0}".format(waiting_no))
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  대기번호 : 0
  대기번호 : 1
  대기번호 : 2
  대기번호 : 3
  대기번호 : 4
```

</details>

<br>

> range(시작 숫자, 끝 숫자) : 시작 숫자부터 끝 숫자 직전(끝 숫자 - 1)까지 연속한 정수를 반환
```
  for waiting_no in range(1, 6):   ← 1부터 6 직전까지(1~5)
    print("대기번호 >: {0}".format(waiting_no))
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  대기번호 : 1
  대기번호 : 2
  대기번호 : 3
  대기번호 : 4
  대기번호 : 5
```

</details>

<br>

> range(시작 숫자, 끝 숫자, 간격) : 시작 숫자부터 끝 숫자 직전(끝 숫자 - 1)까지 간격만큼 띄운 정수를 반환
```
  for waiting_no in range(1, 6, 2):   ← 1부터 6 직전까지(1~5)에서 2씩 간격 주기
    print("대기번호 : {0}".format(waiting_no))
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  대기번호 : 1
  대기번호 : 3
  대기번호 : 5
```

</details>

<br>

### while 문 : 조건을 만족할 동안 반복하기
- 조건을 만족하는 동안 끝없이 반복

  - for 문은 리스트와 같은 반복 대상에서 값을 하나씩 가져와 반복 작업을 수행

- while 키워드 다음에, 변수와 반복 대상 대신 조건 작성

  - 콜론 붙이고 실행할 명령문을 들여쓰기

<br>

> while 문 형식
```
  while 조건:
    실행할 명령1
    실행할 명령2
    ...
```

<br>

> ex1) 직원이 손님을 5번이나 불렀는데 픽업대로 음료를 가지러 오지 않으면 폐기
```
  customer = "토르" # 손님 닉네임
  index = 5 # 초깃값, 부르는 횟수 최대 5번
  
  while index >= 1: # 부르는 횟수가 1 이상일 때만 실행
    print("{} 님, 커피가 준비됐습니다.".format(customer))
    index -= 1 # 횟수 1회 차감
    print("{}번 남았어요.".format(index))
    if index == 0: # 5번 모두 불렀다면
      print("커피를 폐기 처분합니다.")
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  토르 님, 커피가 준비됐습니다.
  4번 남았어요.
  토르 님, 커피가 준비됐습니다.
  3번 남았어요.
  토르 님, 커피가 준비됐습니다.
  2번 남았어요.
  토르 님, 커피가 준비됐습니다.
  1번 남았어요.
  토르 님, 커피가 준비됐습니다.
  0번 남았어요.
  커피를 폐기 처분합니다.
```
- 손님의 닉네임을 5번 부를 동안 반복 ⇒ 조건 = 부르는 횟수

- 부르는 횟수가 5번이 넘으면 음료 폐기 처분

  - 부르는 횟수 세기

    - 최댓값에서 빼는 방법(✔️)
      - 최댓값은 5가 되고 1번 부를 때마다 최댓값에서 1씩 빼기
      - 횟수가 0이 되면 손님을 부를 필요가 없으니 횟수가 1일 때까지 반복

    - 최댓값이 될 때까지 더하는 방법
      - 최대값을 0으로 초기화 후 1번 부를 때마다 1씩 더하기
      - 최대값이 6이 되면 손님을 부를 필요가 없으니 횟수가 6일 때까지 반복

- 남은 호출 횟수는 format() 함수에 index 변수를 넣어 처리

</details>

<br>

> ex2) 손님이 나타날 때까지 계속 부르면서 대기
```
  customer = "아이언맨"
  index = 1
  
  while True:
    print("{0} 님, 커피가 준비됐습니다. 호출 {1}회".format(customer, index))
    index += 1
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  아이언맨 님, 커피가 준비됐습니다. 호출 1회
  아이언맨 님, 커피가 준비됐습니다. 호출 2회
  아이언맨 님, 커피가 준비됐습니다. 호출 3회
  아이언맨 님, 커피가 준비됐습니다. 호출 4회
  ...
  아이언맨 님, 커피가 준비됐습니다. 호출 18880회
  아이언맨 님, 커피가 준비됐습니다. 호출 18881회
  아이언맨 님, 커피가 준비됐습니다. 호출 18882회
  아이언맨 님, 커피가 준비됐습니다. 호출 18883회
  
  KeyboardInterrupt    ← Ctrl + C 입력 시 강제 종료
```
- 조건에 참을 의미하는 True + while 문 안에는 print() 문과 횟수에 1을 더하는 문장밖에 없음

  - 코드에 while 문을 탈출하게 하는 구문이 없어서 while 문을 끝없이 반복 수행

  - ⇒ 이런 경우 *무한 루프(infinite loop)에 빠졌다* 라고 표현

  - 무한 루프에 빠진 프로그램은 강제 종료해야 하며, 강제 종료할 때는 Ctrl + C

</details>

<br>

> ex3) 손님의 닉네임을 부른 후 input() 함수로 닉네임을 입력받아서 커피를 주문한 손님과 일치하는지 확인
```
  customer = "토르"
  person = None
  
  while person != customer:
    print("{0} 님, 커피가 준비됐습니다.".format(customer))
    person = input("이름이 어떻게 되세요? ")
```
- 입력받은 닉네임은 person 변수에 저장
  - 처음에 값이 비어 있는 상태로 두기 위해 아무것도 없다는 의미의 None으로 초기화
 
<details>
  <summary>실행결과</summary>

<br>

> 이름 몇 번 틀리게 입력하다가 마지막에 바르게 입력하고 결과를 비교해보기
```
  토르 님, 커피가 준비됐습니다.
  이름이 어떻게 되세요? 아이언맨   ←-- 커피를 주문한 손님과 닉네임이 일치하지 않음
  토르 님, 커피가 준비됐습니다.
  이름이 어떻게 되세요? 스파이더맨 ←-- 커피를 주문한 손님과 닉네임이 일치하지 않음
  토르 님, 커피가 준비됐습니다.
  이름이 어떻게 되세요? 토르       ←-- 커피를 주문한 손님과 닉네임 일치. while 문 탈출
```
- '토르'라고 입력할 때까지 입력받기 반복

</details>

<br>

### continue와 break : 흐름 제어하기
- 자신이 속한 가장 가까운 반복문에 대해 동작

  - 반복문 안에 또 다른 반복문이 있는 이중 반복문일 경우

  - 내부 반복문에서 continue나 break를 사용하면
      - 내부 반복문만 탈출
      - 외부 반복문은 계속해서 수행

- continue

  - continue 이후 명령들을 실행하지 않고 다음 반복 대상으로 넘어갈 때 사용

- break

  - 반복문을 즉시 탈출할 때 사용

<br>

> ex1) 출석번호순으로 책 읽기

|출석번호 1번부터 10번까지 총 10명의 학생이 순서대로 한 문단씩 책 읽기|
|-|
|![image](./img/4.png)|
|- 2번과 5번 학생이 결석<br>- 1번 학생이 책을 읽은 다음에는 2번을 건너뛰고 3번 학생이 책을 읽어야 함<br>- 4번 학생이 책을 읽은 다음에는 5번을 건너뛰고 6번 학생이 책을 읽어야 함|

```
  absent = [2, 5] # 결석한 학생 출석번호
  
  for student in range(1, 11): # 출석번호 1~10번
    if student in absent: # 결석한 학생이면
      continue # 다음 학생으로 넘어가기
    print("{0}번 학생, 책을 읽어 보세요.".format(student))
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  1번 학생, 책을 읽어 보세요.
  3번 학생, 책을 읽어 보세요.
  4번 학생, 책을 읽어 보세요.
  6번 학생, 책을 읽어 보세요.
  7번 학생, 책을 읽어 보세요.
  8번 학생, 책을 읽어 보세요.
  9번 학생, 책을 읽어 보세요.
  10번 학생, 책을 읽어 보세요.
```
- 반복문 안에서 continue를 만나면 그 뒤에 있는 명령은 실행하지 않고 바로 다음 반복 대상으로 넘어감

</details>

<br>

> ex2) 7번 학생이 책을 놓고와서 수업 중단 후 교무실로 데려감
```
  absent = [2, 5] # 결석한 학생 출석번호 
  no_book = [7] # 책을 가져오지 않은 학생 출석번호
  for student in range(1, 11): # 출석번호 1~10번
    if student in absent: # 결석한 학생이면
      continue # 다음 학생으로 넘어가기
    elif student in no_book: # 책을 가져오지 않으면 바로 수업 종료
      print("오늘 수업은 여기까지. {0}번 학생은 교무실로 따라와요.".format(student))
      break # 반복문 탈출
    print("{0}번 학생, 책을 읽어 보세요.".format(student))
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  1번 학생, 책을 읽어 보세요.
  3번 학생, 책을 읽어 보세요.
  4번 학생, 책을 읽어 보세요.
  6번 학생, 책을 읽어 보세요.
  오늘 수업은 여기까지. 7번 학생은 교무실로 따라와요.
```
- 결석한 2번과 5번은 건너뛰고 1, 3, 4, 6번 학생까지 책 읽기 반복

- 책을 가져오지 않은 7번 학생 차례가 되자마자 바로 수업을 끝내고 학생을 교무실로 호출하며 반복문 탈출

- 반복문에서 break를 만나면 아직 반복 대상이 남아 있든 말든 상관없이 그 즉시 반복문을 탈출
  - 8번~10번 학생은 책 못읽은 상태

</details>

<br>

#### 💡 continue와 break를 사용하여 흐름을 제어하는 이유
```
  불필요한 명령을 수행하거나 무한 루프에 빠지는 상황을 방지하기 위함
```

<br>

### for 문 한 줄로 작성하기
- 리스트 컴프리헨션(list comprehension)

  - 반복 대상의 값들에 각각 어떤 동작을 수행하고, 수행한 결과들을 모아 새로운 리스트로 만드는 것

<br>

> 형식
```
  [동작 for 변수 in 반복 대상]
```

<br>

> ex) 출석번호가 1, 2, 3, 4, 5, ... 에서 101, 102, 103, 104, 105, ... 식으로 변경
```
  students = [1, 2, 3, 4, 5]
  print(students)
  
  # 한 줄 for 문으로 각 항목에 100 더하기
  students = [i + 100 for i in students]
  print(students)
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  [1, 2, 3, 4, 5]
  [101, 102, 103, 104, 105]
```

<br>

> students = [i + 100 for i in students] 의미
```
  1. 반복 대상인 students 리스트에서 i라는 변수로 값을 하나씩 가져오기

  2. i 변수의 값에 100을 더하기

  3. 그 값을 다시 students에 저장해 새로운 리스트 만들기
```

<br>

> 즉
```
  students = [students[0] + 100, students[1] + 100, students[2] + 100, students[3] + 100, students[4] + 100]
```

</details>

<br>

#### 💡 한 줄 for 문 작성 시 주의할 점
- 한 줄 for 문을 작성할 때 사용한 i 변수는 임의로 사용한 이름
  - 다른 변수명을 사용 가능
  - 단, ‘변수 위치’와 ‘변수로 어떤 동작을 하는 위치’에서 변수명이 동일해야 함

|-|
|-|
|![image](./img/5.png)|

<br>

ex2) 이름을 저장한 리스트를 각 이름의 길이 정보를 담은 리스트로 변형
```
  students = ["Iron man", "Thor", "Spider Man"]
  print(students)
  
  # 한 줄 for 문으로 각 이름을 이름의 길이 정보로 변환
  students = [len(i) for i in students]
  print(students)
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  ['Iron man', 'Thor', 'Spider Man']
  [8, 4, 10]
```

<br>

> 띄어쓰기를 포함한 각 이름의 길이 8, 4, 10을 새로운 리스트로 만들어서 students에 저장
```
  students = [len(students[0]), len(students[1]), len(students[2])]
```

<br>

> students 리스트의 각 인덱스에 해당하는 실제 값으로 풀어 적으면
```
  students = [len("Iron man"), len("Thor"), len("Spider Man")]
```

</details>

<br>

> ex3) 이름 정보를 저장한 동일한 리스트를 사용하되, 각 이름을 모두 대문자로 변경
```
  students = ["Iron man", "Thor", "Spider Man"]
  print(students)
  
  # 한 줄 for 문으로 각 이름을 모두 대문자로 변경
  students = [i.upper() for i in students]
  print(students)
```

<br>

<details>
  <summary>실행결과</summary>

<br>

```
  ['Iron man', 'Thor', 'Spider Man']
  ['IRON MAN', 'THOR', 'SPIDER MAN']
```

</details>

<br>

### 연습문제
#### 📌 1. 다음 코드의 출력 의도로 알맞은 것은?
```
  my_list = [1, 2, 3, 4, 5]
  for i in my_list:
    if i % 2 == 0:
      print(i)
```
```
  ① 홀수만 출력
  
  ② 짝수만 출력
  
  ③ 2보다 작은 수만 출력
  
  ④ 2보다 큰 수만 출력
```

<br>

<details>
  <summary>정답</summary>

<br>

> ② 짝수만 출력
```
  my_list(반복 대상)에 값이 있을 동안 반복하는 반복문

  반복문 안의 조건문 : 변수 i의 값을 2로 나눴을 때 나머지가 0

  2로 나눈 나머지가 0이면 값이 짝수 ⇒ i가 짝수일 때만 출력
```

</details>

<br>

#### 📌 2. 다음 코드의 실행결과로 올바른 것은?
```
  i = 3
  while i <= 5:
    print(i)
    i += 1
```
```
① 실행결과
  3

② 실행결과
  3
  4

③ 실행결과
  3
  4
  5

④ 실행결과
  3
  4
  5
  6
```

<br>

<details>
  <summary>정답</summary>

<br>

> ③ 실행결과
```
  3
  4
  5
```
```
  while 문의 조건 : i가 5보다 작거나 같을 때까지

  i는 초깃값이 3  ⇒ i가 3, 4, 5일 동안 값을 출력
```

</details>

<br>

#### 📌 3. 다음 중 보기에서 설명하는 역할을 하는 키워드로 알맞은 것은?
|보기|
|-|
|반복문 안에서 반복 수행 중인 동작을 즉시 멈추고 반복문을 탈출|

```
  ① continue
  
  ② break
  
  ③ return
  
  ④ exit
```

<br>

<details>
  <summary>정답</summary>

<br>

> ② break

</details>

<br>
