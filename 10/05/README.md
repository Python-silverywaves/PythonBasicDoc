# 실습 문제: 치킨 주문하기
문제
---
```
  항상 대기 손님이 많은 맛있는 치킨 가게가 있습니다.
  
  손님들의 대기 시간을 줄이고자 자동 주문 프로그램을 만들었습니다.
  
  다음 코드를 확인하고 적절한 예외 처리 구문을 추가하세요.
```

<br>

```
  chicken = 10 # 남은 치킨 수
  waiting = 1 # 대기번호, 1부터 시작
  
  while True:
      print("[남은 치킨 : {0}]".format(chicken))
      order = int(input("치킨을 몇 마리 주문하시겠습니까? "))
      if order > chicken: # 남은 치킨보다 주문량이 많을 때
          print("재료가 부족합니다.")
      else:
          print("[대기번호 {0}] {1}마리를 주문했습니다.".format(waiting, order))
          waiting += 1 # 대기번호 1 증가
          chicken -= order # 주문 수만큼 남은 치킨 감소
```

<br>

### 조건
- 1보다 작거나 숫자가 아닌 입력값이 들어올 때는 ValueError로 처리한다.

> 실행결과
```
  값을 잘못 입력했습니다.
```

- 대기 손님이 주문할 수 있는 최대 주문량은 10마리로 제한한다.

- 치킨 소진 시 오류(SoldOutError)를 발생시키고 프로그램 종료한다.

> 실행결과
```
  재료가 소진돼 더 이상 주문을 받지 않습니다.
```

<br>

<details>
  <summary>정답</summary>

<br>

> 코드
```
  lass SoldOutError(Exception):
      pass
  chicken = 10 # 남은 치킨 수
  waiting = 1 # 대기번호, 1부터 시작
  
  while True:
      try:   ----------------- ➊ 예외 처리를 위한 try 문 추가
          print("[남은 치킨 : {0}]".format(chicken))
          order = int(input("치킨을 몇 마리 주문하시겠습니까? "))
          if order > chicken: # 남은 치킨보다 주문량이 많을 때
              print("재료가 부족합니다.")
          elif order <= 0:   ---- ➋ 입력값이 1보다 작은 수일 때
              raise ValueError  
          else:
              print("[대기번호 {0}] {1}마리를 주문했습니다.".format(waiting, order))
              waiting += 1 # 대기번호 증가
              chicken -= order # 주문 수만큼 남은 치킨 감소
          if chicken == 0:   ---------- ➍ 남은 치킨 수가 0이면
              raise SoldOutError  ---- ➍ 재료 소진으로 주문이 불가능하므로 오류 발생
      except ValueError:  --- ➊ ValueError 예외 처리
          print("잘못된 값을 입력했습니다.")
      except SoldOutError:  ---- ➌ 재고 소진 시 발생할 오류 정의, ➍ 재료 소진 시 발생하는 오류의 예외 처리
          print("재료가 소진돼 더 이상 주문을 받지 않습니다.")
          break
```

<br>

> 실행결과
```
  [남은 치킨 : 10]
  치킨을 몇 마리 주문하시겠습니까? 10
  [대기번호 1] 10마리를 주문했습니다.
  재료가 소진돼 더 이상 주문을 받지 않습니다.
```

<br>

> 해설
```
[코드 분석]
남은 치킨 수(chicken)와 대기번호(waiting)를 각각 10마리와 1번으로 초기화
반복문 안에서 사용자로부터 치킨을 주문받고 주문 수가 남은 치킨 수를 초과하면 “재료가 부족합니다.”를 출력
그렇지 않은 경우에는 대기번호 몇 번인 손님이 치킨을 몇 마리 주문했는지 출력
그런 다음 대기번호는 1 증가시키고, 남은 치킨 수는 주문 수만큼 감소시킴

[예외 처리 추가]
➊ 조건 1에서 1보다 작거나 숫자가 아닌 값이 입력될 때 ValueError로 예외 처리를 해야 하므로 코드를 try-except 문 사이에 넣기
  이때 while 문까지 통째로 넣으면 잘못된 값이 입력될 때 while 문 밖에 있는 except 문에서 예외 처리돼 프로그램이 바로 종료
  그래서 잘못된 값을 입력하더라도 반복문이 계속 실행되도록 while 문 내부 코드만 try-except 문으로 감싸기

➋ 여기까지 작성하면 숫자가 아닌 값을 입력했을 때 입력값을 정수형으로 변환하는 int(input(...)) 부분에서 오류가 발생
  except 문에서 예외 처리
  단, ‘1보다 작거나’에 해당하는 조건이 처리되지 않았으므로 코드를 보완
  입력값을 정수로 변환한 후 if 문으로 비교하므로 입력값이 1보다 작은 경우는 이 부분을 수정
  if 문에서 남은 치킨보다 주문량이 많은 경우(order > chicken)를 제외한 모든 경우는 else 문에서 정상 주문으로 처리
  그 사이에 elif 문을 추가해 입력값이 1보다 작은지 비교하고 1보다 작으면 ValueError를 발생

➌ 조건 2와 조건 3에 따르면 대기 손님이 주문할 수 있는 치킨은 총 10마리
  남은 치킨 수가 0이 되면 SoldOutError를 발생시키고 안내 문구를 출력한 후 프로그램을 종료
  먼저 코드 가장 윗줄에 사용자 정의 오류인 SoldOutError 클래스를 정의
  세부 동작은 구현하지 않고 pass로만 작성

➍ while 문 안에서 남은 치킨 수가 0이 됐을 때 SoldOutError가 발생해야함
  기존 if-else 문 아래에 새로운 if 문을 추가
  SoldOutError를 처리하기 위한 except 문을 추가하고 조건 3에 제시한 안내 문구를 출력하도록 print() 문을 작성
  더 이상 주문을 받을 수 없으므로 break로 while 문을 탈출해 프로그램을 종료
```

</details>

<br>






